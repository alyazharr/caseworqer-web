{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>CaseWorqer: Isi Profil Perusahaan</title>
<style>
    .formboks {
        background: #f2fce6;
        background-color: #f2fce6;
        margin-left: auto;
        margin-right: auto;
        border: 3px solid #f2fce6;
        text-align: left;
        border-radius: 2%;
        padding-top: 5px;
    }
    
    .form-submit-button {
        background: #e8e8e8;
        color: black;
        border-radius: 20px;
        border-color: #e8e8e8;
        font: bold15px arial, sans-serif;
        text-shadow: none;
    }

    .form-submit-button:hover {
        background: #bebfc2;
        color: black;
        border: 1pxsolid#eee;
        border-radius: 20px;
        box-shadow: 5px5px5px#eee;
        text-shadow: none;
    }

    .formbox {
        background: black;
        background-color: black;
        margin-left: auto;
        margin-right: auto;
        width: 20%;
        border: 3px solid #01112b;
        text-align: left;
        border-radius: 2%;
        padding-top: 5px;
    }

    @media (min-width:961px) {
        .sizing {
            width: 40%
        }
    }
</style>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function () {
        $("button").click(function () {
            $("#box").load("../accounts/login #logIn");
        });
    });
</script>

{% endblock meta %}

{% block navbar %}
<ul class="navbar-nav mr-auto">
    <li class="nav-item">
        <a href="../">Home</a>
    </li>
    <li class="nav-item">
        <a href="../pelamarkerja/carilowongan">Cari Lowongan</a>
    </li>
    <li class="nav-item">
        <a href="../lowongankerja/lowonganForm" class="active">Buka Lowongan</a>
    </li>
    <li class="nav-item">
        <a href="../tipskarier">Tips Karier</a>
    </li>
    <li class="nav-item">
        <a href="../forum">Forum</a>
    </li>
    <li class="nav-item">
        <a href="../company_review">Company Review</a>
    </li>
</ul>
{% endblock navbar %}

{% block content %}

<div style="width: 100%; background: #f2fce6;">
{% if user.is_authenticated %}
    <div class="formboks sizing">
        <br>
        <h3>Profil Perusahaan</h3>
        <br>
        <br>
        <form action="" method="POST" id="profilperusahaan" class="needs-validation" novalidate>
            {% csrf_token %}
            
            <input type="hidden" id="companyOwner" name="companyOwner" value="{{ user.username }}">

            <div class="form-group">
                <label for="companyName">Nama Perusahaan:</label>
                <input type="text" class="form-control" name="companyName" id="companyName" placeholder="ex: PT Maju Gas Mulia" required>
                <div class="invalid-feedback">
                    Mohon isi kolom nama perusahaan.
                </div>
            </div>
            <div class="form-group">
                <br>
                <label for="companyAddress">Alamat Perusahaan:</label>
                <textarea class="form-control" rows="3" name="companyAddress" id="companyAddress" placeholder="ex: Jalan Jend. Sudirman Kav. 11-12, Jakarta Pusat, DKI Jakarta 12530" form="profilperusahaan" style="resize: none;" required></textarea>
                <div class="invalid-feedback">
                    Mohon isi kolom alamat perusahaan.
                </div>
            </div>

            <div class="form-group">
              <br>
              <label for="companyEmail">Email Perusahaan:</label>
              <input type="text" class="form-control" name="companyEmail" id="companyEmail" placeholder="ex: employment@persadagroup.com" required>
              <div class="invalid-feedback">
                Mohon isi kolom email perusahaan.
              </div>
            </div>

            <label class="sr-only" for="companyPhoneNumber">companyPhoneNumber</label>
            <br>
            <label for="companyPhoneNumber">Nomor Telepon Perusahaan:</label>
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">+62</div>
                    </div>
                    <input type="text" class="form-control" name="companyPhoneNumber" id="companyPhoneNumber" placeholder="ex: 2136578954" required>
                    <div class="invalid-feedback">
                        Mohon isi kolom nomor telepon perusahaan.
                    </div>
                </div>

            <div class="form-group">
              <br>
              <label for="companyDescription">Deskripsi Perusahaan:</label>
              <textarea class="form-control" name="companyDescription" id="companyDescription" rows="3"  form="profilperusahaan" style="resize: none;" required></textarea>
              <div class="invalid-feedback">
                Mohon isi kolom deskripsi perusahaan.
              </div>
            </div>

            <div class="form-group">
                <div class="form-check">
                  <br>  
                  <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                  <label class="form-check-label" for="invalidCheck">
                    Pastikan data yang Anda masukkan sudah sesuai semua.
                  </label>
                  <div class="invalid-feedback">
                    Anda harus mencentang pilihan diatas agar dapat melakukan pengumpulan.
                  </div>
                </div>
            </div>
            <br>
            <input type="submit" class="form-submit-button">
            <br>
            <br>
            <br>
        </form>
       
        <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function() {
            'use strict';
            window.addEventListener('load', function() {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener('submit', function(event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
        </script>
    </div>
    {% else %}
    <div style="color: rgb(29, 16, 16);">
        <br>
        <br>
        <h4 style="text-align: center;">Anda harus masuk terlebih dahulu sebelum dapat mengisi profil perusahaan!</h4>
        <div id="box">
            <br>
            <h6 style="text-align: center;">Tekan tombol untuk masuk</h6>
            <div class="col text-center">
                <button type="button">Masuk!</button>
            </div>
            <br>
            <br>
        </div>
    </div>
    {% endif %}
</div>
<div style="height:10px;background-color:#DA5144"></div>
{% endblock content %}